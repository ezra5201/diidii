<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>diidii.app Promise vs Reality Analysis</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- ===========================================
         MAIN CONTAINER - WRAPS ENTIRE PAGE
    =========================================== -->
    <div class="container">
        
        <!-- ===========================================
             HEADER SECTION - TITLE AND DESCRIPTION
        =========================================== -->
        <header>
            <h1>diidii.app Promise vs Reality Analysis</h1>
            <p class="subtitle">Website Value Propositions → User Feedback Themes</p>
            <p class="description">Based on 8 caregiver interviews and comprehensive website analysis</p>
        </header>

        <!-- ===========================================
             CHART SECTION - CONTAINS THE SVG VISUALIZATION
        =========================================== -->
        <div class="chart-section">
            <div class="chart-container">
                <!-- ===========================================
                     EXTERNAL SVG REFERENCE - LOADS FROM chart.svg
                =========================================== -->
                <object class="chart-svg" data="chart.svg" type="image/svg+xml">
                    <!-- Fallback content if SVG fails to load -->
                    <p>Your browser does not support SVG or the chart could not be loaded.</p>
                </object>
            </div>
        </div>

        <!-- ===========================================
             FOOTER SECTION - METHODOLOGY AND DATA SOURCES
        =========================================== -->
        <footer>
            <p><strong>Analysis Method:</strong> Alluvial diagram showing flow thickness based on frequency of mentions across interviews</p>
            <p><strong>Data Sources:</strong> 8 Visiting Angels caregiver interviews • diidii.app website analysis • User experience documentation</p>
            <p><strong>Color Coding:</strong> Green = Strong alignment, Yellow = Partial alignment, Gray = Promise-reality gaps</p>
        </footer>
    </div>

    <!-- ===========================================
         JAVASCRIPT - RESPONSIVE SVG AND INTERACTIONS
    =========================================== -->
    <script>
        // ===============================================
        // RESPONSIVE SVG HANDLER
        // Ensures SVG scales properly on all devices
        // ===============================================
        document.addEventListener('DOMContentLoaded', function() {
            const svgObject = document.querySelector('object[data="chart.svg"]');
            
            if (svgObject) {
                svgObject.addEventListener('load', function() {
                    console.log('External SVG loaded successfully');
                    
                    // Access the SVG document inside the object
                    const svgDoc = svgObject.contentDocument;
                    if (svgDoc) {
                        const svg = svgDoc.querySelector('svg');
                        if (svg && !svg.hasAttribute('viewBox') && svg.hasAttribute('width') && svg.hasAttribute('height')) {
                            const width = svg.getAttribute('width');
                            const height = svg.getAttribute('height');
                            svg.setAttribute('viewBox', `0 0 ${width} ${height}`);
                        }
                    }
                });
                
                svgObject.addEventListener('error', function() {
                    console.error('Failed to load external SVG');
                });
            }
        });

        // ===============================================
        // TOOLTIP FUNCTIONALITY (Optional Enhancement)
        // Shows details when hovering over elements
        // ===============================================
        document.addEventListener('DOMContentLoaded', function() {
            const svgObject = document.querySelector('object[data="chart.svg"]');
            
            if (svgObject) {
                svgObject.addEventListener('load', function() {
                    const svgDoc = svgObject.contentDocument;
                    if (svgDoc) {
                        const paths = svgDoc.querySelectorAll('path[title]');
                        const rects = svgDoc.querySelectorAll('rect[title]');
                        
                        [...paths, ...rects].forEach(element => {
                            element.addEventListener('mouseenter', function(e) {
                                console.log('Hovering over:', e.target.getAttribute('title'));
                            });
                        });
                    }
                });
            }
        });

        // ===============================================
        // PRINT OPTIMIZATION
        // Ensures chart prints well
        // ===============================================
        window.addEventListener('beforeprint', function() {
            console.log('Preparing for print...');
        });
    </script>
</body>
</html>
